(this["webpackJsonpherolo-weather-app"]=this["webpackJsonpherolo-weather-app"]||[]).push([[0],{20:function(e,t,r){},21:function(e,t,r){},22:function(e,t,r){},24:function(e,t,r){},25:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(10),i=r.n(a),s=(r(20),r(8)),o=r(2),u=(r(21),r(22),r(1)),l=function(e){var t=Object(n.useState)("home"),r=Object(o.a)(t,2),c=r[0],a=r[1];Object(n.useEffect)((function(){a(e.currentPage)}),[e.currentPage]);var i=function(t){a(t),e.clicked(t)};return Object(u.jsx)("header",{className:"site-header",children:Object(u.jsxs)("div",{className:"wrapper site-header__wrapper",children:[Object(u.jsx)("h3",{className:"title",children:"What's the Weather ?"}),Object(u.jsxs)("nav",{className:"navHome",children:[Object(u.jsx)("a",{className:"home"===c?"home":"",onClick:function(){return i("home")},href:"#",children:"Home"}),Object(u.jsx)("a",{className:"favorites"===c?"favorites":"",onClick:function(){return i("favorites")},href:"#",children:"Favorites"})]})]})})},j=(r(24),r(25),function(e){var t=Object(n.useRef)(null);return Object(u.jsx)("div",{className:"searchContainer",children:Object(u.jsxs)("div",{className:"searchLocation",children:[Object(u.jsx)("input",{ref:t,type:"text",placeholder:"search"}),Object(u.jsx)("input",{type:"button",onClick:function(){return e.clicked(t)},value:"Search",className:"search-button"})]})})}),d=r(5),h=r(4),b=r.n(h),p=r(6),O=r(7),f=r.n(O),v=function(){var e=Object(p.a)(b.a.mark((function e(t){var r,n,c,a,i,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.searchText,"nksorniD02MKyprdzS4Yq3AahnJdFFMu",n="http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat("nksorniD02MKyprdzS4Yq3AahnJdFFMu","&q=").concat(r),e.prev=3,e.next=6,f()(n);case 6:return c=e.sent,e.next=9,c.json();case 9:return a=e.sent,i=a[0],s=i.Key,o=i.LocalizedName,e.abrupt("return",{locationKey:s,city:o}||{});case 14:return e.prev=14,e.t0=e.catch(3),console.error("error",e.t0),e.abrupt("return",{});case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(b.a.mark((function e(t){var r,n,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.locationKey,"nksorniD02MKyprdzS4Yq3AahnJdFFMu",n="http://dataservice.accuweather.com/currentconditions/v1/".concat(r,"?apikey=").concat("nksorniD02MKyprdzS4Yq3AahnJdFFMu"),e.prev=3,e.next=6,f()(n);case 6:return c=e.sent,e.next=9,c.json();case 9:return a=e.sent,e.abrupt("return",a[0]||{});case 13:return e.prev=13,e.t0=e.catch(3),console.error("error",e.t0),e.abrupt("return",{});case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(b.a.mark((function e(t){var r,n,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.locationKey,"nksorniD02MKyprdzS4Yq3AahnJdFFMu",n="http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(r,"?apikey=").concat("nksorniD02MKyprdzS4Yq3AahnJdFFMu"),e.prev=3,e.next=6,f()(n);case 6:return c=e.sent,e.next=9,c.json();case 9:return a=e.sent,e.abrupt("return",a||{});case 13:return e.prev=13,e.t0=e.catch(3),console.error("error",e.t0),e.abrupt("return",{});case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){return Object(u.jsx)(n.Fragment,{children:Object(u.jsxs)("div",{className:"forcastWeather",children:[Object(u.jsx)("p",{children:e.day}),Object(u.jsx)("p",{children:e.temperature})]})})},F=function(e){var t=e.dateVal;return new Date(t).toLocaleDateString("en-US",{weekday:"short"})},k=function(e){var t=5*(e.tempVal-32)/9;return Math.round(t)},w=r(3),S=function(e){return{type:"UPDATE_FAVORITES",payload:e}},N=function(e){var t=Object(d.useState)(""),r=Object(o.a)(t,2),c=r[0],a=r[1],i=Object(d.useState)(""),l=Object(o.a)(i,2),h=l[0],b=l[1],p=Object(d.useState)(""),O=Object(o.a)(p,2),f=O[0],N=O[1],T=Object(d.useState)(""),M=Object(o.a)(T,2),g=M[0],D=M[1],A=Object(d.useState)(),C=Object(o.a)(A,2),K=C[0],E=C[1],_=Object(d.useState)("Add To Favorites"),V=Object(o.a)(_,2),J=V[0],q=V[1],z=Object(d.useState)(),L=Object(o.a)(z,2),P=L[0],W=L[1],Y=Object(w.c)((function(e){return e.inFavorites})),I=Object(w.b)();Object(n.useEffect)((function(){var t={current:{value:"Tel Aviv"}};e.location&&(D(e.location.id),a(e.location.city),b(e.location.temperature),N(e.location.WeatherText),t.current.value=e.location.city),R(t)}),[]),Object(n.useEffect)((function(){var e=!!Y&&Y.some((function(e){return e.id===g}));q(e?"Remove from Favorites":"Add To Favorites"),W(e)}));var R=function(e){var t=e.current.value;v({searchText:t}).then((function(e){var t=e.city,r=e.locationKey;return a(t),D(r),r})).then((function(e){m({locationKey:e}).then((function(e){var t=e.Temperature,r=e.WeatherText,n=t?t.Metric.Value:"";b(n),N(r)})),x({locationKey:e}).then((function(e){E(e.DailyForecasts)}))}))};return Object(u.jsxs)(n.Fragment,{children:[Object(u.jsx)(j,{clicked:R}),Object(u.jsxs)("div",{className:"mainContainer",children:[Object(u.jsxs)("div",{className:"containerTop",children:[Object(u.jsxs)("div",{className:"currentWeather",children:[Object(u.jsxs)("label",{children:["City: ",c]}),Object(u.jsx)("br",{}),Object(u.jsxs)("label",{children:["Temperature: ",h]})]}),Object(u.jsx)("div",{className:"addToFavorites",children:Object(u.jsx)("button",{onClick:function(){return function(){var e=Object(s.a)(Y);if(P)e=e.filter((function(e){return e.id!==g})),I(S(e));else{var t={id:g,city:c,temperature:h,weather:f};e.push(t),I(S(e))}}()},children:J})})]}),Object(u.jsx)("div",{className:"labelContainer",children:Object(u.jsx)("div",{className:"weatherLabel",children:Object(u.jsx)("h1",{children:f})})}),Object(u.jsx)("div",{className:"forcastContainer",children:K&&K.map((function(e,t){var r=e.Date,n=e.Temperature.Maximum.Value;return Object(u.jsx)(y,{day:F({dateVal:r}),temperature:k({tempVal:n})},t)}))})]})]})},T=(r(34),function(e){return Object(u.jsx)(n.Fragment,{children:Object(u.jsx)("div",{id:e.id,name:"",className:"favoritesWeather",onClick:e.clicked,children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:e.city}),Object(u.jsx)("p",{children:e.temperature}),Object(u.jsx)("p",{children:e.weather})]})})})}),M=function(e){var t=Object(w.c)((function(e){return e.inFavorites}));return Object(u.jsx)("div",{className:"mainFavoritesContainer",children:t&&t.map((function(t){return Object(u.jsx)(T,{id:t.id,city:t.city,temperature:t.temperature,weather:t.weather,clicked:function(){return e.clicked(t.id)}})}))})};var g=function(){var e=Object(n.useState)("home"),t=Object(o.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(),i=Object(o.a)(a,2),j=i[0],d=i[1],h=Object(w.c)((function(e){return e.inFavorites}));return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{clicked:function(e){c(e)},currentPage:r}),"home"===r?Object(u.jsx)(N,{location:j}):Object(u.jsx)(M,{clicked:function(e){c("home");var t=Object(s.a)(h).filter((function(t){return t.id===e}));d(t[0])}})]})},D=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,36)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;r(e),n(e),c(e),a(e),i(e)}))},A=r(12),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FAVORITES":return Object(s.a)(t.payload);default:return e}},K=Object(A.a)({inFavorites:C}),E=Object(A.b)(K,window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(w.a,{store:E,children:Object(u.jsx)(g,{})})}),document.getElementById("root")),D()}},[[35,1,2]]]);
//# sourceMappingURL=main.5baa0619.chunk.js.map
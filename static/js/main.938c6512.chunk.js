(this["webpackJsonpherolo-weather-app"]=this["webpackJsonpherolo-weather-app"]||[]).push([[0],{19:function(e,t,r){},20:function(e,t,r){},21:function(e,t,r){},23:function(e,t,r){},24:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(9),i=r.n(a),s=(r(19),r(7)),o=r(2),u=(r(20),r(21),r(1)),l=function(e){var t=Object(n.useState)("home"),r=Object(o.a)(t,2),c=r[0],a=r[1];Object(n.useEffect)((function(){a(e.currentPage)}),[e.currentPage]);var i=function(t){a(t),e.clicked(t)};return Object(u.jsx)("header",{className:"site-header",children:Object(u.jsxs)("div",{className:"wrapper site-header__wrapper",children:[Object(u.jsx)("h3",{className:"title",children:"What's the Weather ?"}),Object(u.jsxs)("nav",{className:"navHome",children:[Object(u.jsx)("a",{className:"home"===c?"home":"",onClick:function(){return i("home")},href:"#",children:"Home"}),Object(u.jsx)("a",{className:"favorites"===c?"favorites":"",onClick:function(){return i("favorites")},href:"#",children:"Favorites"})]})]})})},j=(r(23),r(24),function(e){var t=Object(n.useRef)(null);return Object(u.jsx)("div",{className:"searchContainer",children:Object(u.jsxs)("div",{className:"searchLocation",children:[Object(u.jsx)("input",{ref:t,type:"text",placeholder:"search"}),Object(u.jsx)("input",{type:"button",onClick:function(){return e.clicked(t)},value:"Search",className:"search-button"})]})})}),d=r(4),h=r.n(d),b=r(5),p=r(6),O=r.n(p),f=function(){var e=Object(b.a)(h.a.mark((function e(t){var r,n,c,a,i,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.searchText,"nksorniD02MKyprdzS4Yq3AahnJdFFMu",n="http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat("nksorniD02MKyprdzS4Yq3AahnJdFFMu","&q=").concat(r),e.prev=3,e.next=6,O()(n);case 6:return c=e.sent,e.next=9,c.json();case 9:return a=e.sent,i=a[0],s=i.Key,o=i.LocalizedName,e.abrupt("return",{locationKey:s,city:o}||{});case 14:return e.prev=14,e.t0=e.catch(3),console.error("error",e.t0),e.abrupt("return",{});case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(h.a.mark((function e(t){var r,n,c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.locationKey,"nksorniD02MKyprdzS4Yq3AahnJdFFMu",n="http://dataservice.accuweather.com/currentconditions/v1/".concat(r,"?apikey=").concat("nksorniD02MKyprdzS4Yq3AahnJdFFMu"),e.prev=3,e.next=6,O()(n);case 6:return c=e.sent,e.next=9,c.json();case 9:return a=e.sent,e.abrupt("return",a[0]||{});case 13:return e.prev=13,e.t0=e.catch(3),console.error("error",e.t0),e.abrupt("return",{});case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(h.a.mark((function e(t){var r,n,c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.locationKey,"nksorniD02MKyprdzS4Yq3AahnJdFFMu",n="http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(r,"?apikey=").concat("nksorniD02MKyprdzS4Yq3AahnJdFFMu"),e.prev=3,e.next=6,O()(n);case 6:return c=e.sent,e.next=9,c.json();case 9:return a=e.sent,e.abrupt("return",a||{});case 13:return e.prev=13,e.t0=e.catch(3),console.error("error",e.t0),e.abrupt("return",{});case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){return Object(u.jsx)(n.Fragment,{children:Object(u.jsxs)("div",{className:"forcastWeather",children:[Object(u.jsx)("p",{children:e.day}),Object(u.jsx)("p",{children:e.temperature})]})})},y=function(e){var t=e.dateVal;return new Date(t).toLocaleDateString("en-US",{weekday:"short"})},F=function(e){var t=5*(e.tempVal-32)/9;return Math.round(t)},k=r(3),w=function(e){return{type:"UPDATE_FAVORITES",payload:e}},S=function(e){var t=Object(n.useState)(""),r=Object(o.a)(t,2),c=r[0],a=r[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),d=l[0],h=l[1],b=Object(n.useState)(""),p=Object(o.a)(b,2),O=p[0],S=p[1],N=Object(n.useState)(""),T=Object(o.a)(N,2),M=T[0],g=T[1],D=Object(n.useState)(),A=Object(o.a)(D,2),C=A[0],K=A[1],E=Object(n.useState)("Add To Favorites"),_=Object(o.a)(E,2),V=_[0],J=_[1],q=Object(n.useState)(),z=Object(o.a)(q,2),L=z[0],P=z[1],W=Object(k.c)((function(e){return e.inFavorites})),Y=Object(k.b)();Object(n.useEffect)((function(){var t={current:{value:"Tel Aviv"}};e.location&&(g(e.location.id),a(e.location.city),h(e.location.temperature),S(e.location.WeatherText),t.current.value=e.location.city),I(t)}),[]),Object(n.useEffect)((function(){var e=!!W&&W.some((function(e){return e.id===M}));J(e?"Remove from Favorites":"Add To Favorites"),P(e)}));var I=function(e){var t=e.current.value;f({searchText:t}).then((function(e){var t=e.city,r=e.locationKey;return a(t),g(r),r})).then((function(e){v({locationKey:e}).then((function(e){var t=e.Temperature,r=e.WeatherText,n=t?t.Metric.Value:"";h(n),S(r)})),m({locationKey:e}).then((function(e){K(e.DailyForecasts)}))}))};return Object(u.jsxs)(n.Fragment,{children:[Object(u.jsx)(j,{clicked:I}),Object(u.jsxs)("div",{className:"mainContainer",children:[Object(u.jsxs)("div",{className:"containerTop",children:[Object(u.jsxs)("div",{className:"currentWeather",children:[Object(u.jsxs)("label",{children:["City: ",c]}),Object(u.jsx)("br",{}),Object(u.jsxs)("label",{children:["Temperature: ",d]})]}),Object(u.jsx)("div",{className:"addToFavorites",children:Object(u.jsx)("button",{onClick:function(){return function(){var e=Object(s.a)(W);if(L)e=e.filter((function(e){return e.id!==M})),Y(w(e));else{var t={id:M,city:c,temperature:d,weather:O};e.push(t),Y(w(e))}}()},children:V})})]}),Object(u.jsx)("div",{className:"labelContainer",children:Object(u.jsx)("div",{className:"weatherLabel",children:Object(u.jsx)("h1",{children:O})})}),Object(u.jsx)("div",{className:"forcastContainer",children:C&&C.map((function(e,t){var r=e.Date,n=e.Temperature.Maximum.Value;return Object(u.jsx)(x,{day:y({dateVal:r}),temperature:F({tempVal:n})},t)}))})]})]})},N=(r(33),function(e){return Object(u.jsx)(n.Fragment,{children:Object(u.jsx)("div",{id:e.id,name:"",className:"favoritesWeather",onClick:e.clicked,children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:e.city}),Object(u.jsx)("p",{children:e.temperature}),Object(u.jsx)("p",{children:e.weather})]})})})}),T=function(e){var t=Object(k.c)((function(e){return e.inFavorites}));return Object(u.jsx)("div",{className:"mainFavoritesContainer",children:t&&t.map((function(t){return Object(u.jsx)(N,{id:t.id,city:t.city,temperature:t.temperature,weather:t.weather,clicked:function(){return e.clicked(t.id)}})}))})};var M=function(){var e=Object(n.useState)("home"),t=Object(o.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(),i=Object(o.a)(a,2),j=i[0],d=i[1],h=Object(k.c)((function(e){return e.inFavorites}));return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{clicked:function(e){c(e)},currentPage:r}),"home"===r?Object(u.jsx)(S,{location:j}):Object(u.jsx)(T,{clicked:function(e){c("home");var t=Object(s.a)(h).filter((function(t){return t.id===e}));d(t[0])}})]})},g=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,35)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;r(e),n(e),c(e),a(e),i(e)}))},D=r(11),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FAVORITES":return Object(s.a)(t.payload);default:return e}},C=Object(D.a)({inFavorites:A}),K=Object(D.b)(C,window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(k.a,{store:K,children:Object(u.jsx)(M,{})})}),document.getElementById("root")),g()}},[[34,1,2]]]);
//# sourceMappingURL=main.938c6512.chunk.js.map